"use strict";(self.webpackChunkCustom_Furniture=self.webpackChunkCustom_Furniture||[]).push([[960],{960:(he,f,p)=>{p.r(f),p.d(f,{OrdersModule:()=>xe});var m=p(9808),l=p(9560),x=p(9390),e=p(1223),v=p(8386);let h=(()=>{class t{constructor(n,r){this.userService=n,this.router=r}canActivate(n,r){var i;const d=n.paramMap.get("orderId");return!!(null===(i=this.userService.user)||void 0===i?void 0:i.orders.some(c=>c._id===d))||this.router.createUrlTree([`/orders/${d}`])}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(v.K),e.LFG(l.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=p(6854),s=p(2382);function Z(t,o){1&t&&(e.TgZ(0,"p",26),e._uU(1," Order's Name is required! "),e.qZA())}function b(t,o){1&t&&(e.TgZ(0,"p",26),e._uU(1," Order's Name is not valid! "),e.qZA())}function O(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Z,2,0,"p",25),e.YNc(2,b,2,0,"p",25),e.BQk()),2&t){e.oxw();const n=e.MAs(9);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.minlength)}}function T(t,o){1&t&&(e.TgZ(0,"p",26),e._uU(1," Location is required! "),e.qZA())}function C(t,o){if(1&t&&(e.ynx(0),e.YNc(1,T,2,0,"p",25),e.BQk()),2&t){e.oxw();const n=e.MAs(15);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function M(t,o){1&t&&(e.ynx(0),e.TgZ(1,"p",26),e._uU(2," Invalid status is required! "),e.qZA(),e.BQk())}function y(t,o){1&t&&(e.TgZ(0,"p",26),e._uU(1," Description is required! "),e.qZA())}function A(t,o){1&t&&(e.TgZ(0,"p",26),e._uU(1," Description must be at least 10 characters long "),e.qZA())}function I(t,o){if(1&t&&(e.ynx(0),e.YNc(1,y,2,0,"p",25),e.YNc(2,A,2,0,"p",25),e.BQk()),2&t){e.oxw();const n=e.MAs(39);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.minlength)}}let q=(()=>{class t{constructor(n,r){this.orderService=n,this.router=r,this.isPublic=!0,this.initialStatus="public"}submit(n){n.invalid||this.orderService.createOrder$(n.value).subscribe({next:r=>{this.router.navigate([`/orders/${r._id}`])},error:r=>{console.error(r)}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.p),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new-order"]],decls:43,vars:15,consts:[[1,"container","w-50","p-5","my-5","border","rounded-3"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3","mt-3"],["for","orderName",1,"form-label"],["ngModel","","type","text","id","orderName","placeholder","Enter your order's name","name","orderName","required","","minlength","4",1,"form-control"],["nameInput","ngModel"],[4,"ngIf"],[1,"mb-3"],["for","location",1,"form-label"],["ngModel","","type","text","id","location","placeholder","Enter location","name","address","required","","minlength","5",1,"form-control"],["locationInput","ngModel"],[1,"form-label"],[1,"container","border","rounded-3","mb-3"],[1,"form-check","py-1"],["ngModel","","type","radio","id","radio1","name","visibility","pattern","public|private",1,"form-check-input",3,"ngModel","value","ngModelChange"],["statusInput","ngModel"],["for","radio1",1,"form-check-label"],[1,"small","text-muted"],["ngModel","","type","radio","id","radio2","name","visibility","pattern","public|private",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radio2",1,"form-check-label"],["for","description",1,"form-label"],["ngModel","","rows","5","id","description","name","description","placeholder","I want a kitchen whit white cabinets","required","","maxlength","300","minlength","10",1,"form-control"],["descriptionInput","ngModel"],["type","submit",1,"btn","btn-primary","my-2",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,r){if(1&n){const i=e.EpF();e.TgZ(0,"div",0)(1,"form",1,2),e.NdJ("ngSubmit",function(){e.CHM(i);const c=e.MAs(2);return r.submit(c)}),e.TgZ(3,"h2"),e._uU(4,"Place an Order"),e.qZA(),e.TgZ(5,"div",3)(6,"label",4),e._uU(7,"Order Name:"),e.qZA(),e._UZ(8,"input",5,6),e.qZA(),e.YNc(10,O,3,2,"ng-container",7),e.TgZ(11,"div",8)(12,"label",9),e._uU(13,"Order location:"),e.qZA(),e._UZ(14,"input",10,11),e.qZA(),e.YNc(16,C,2,1,"ng-container",7),e.TgZ(17,"label",12),e._uU(18,"Order status:"),e.qZA(),e.TgZ(19,"div",13)(20,"div",14)(21,"input",15,16),e.NdJ("ngModelChange",function(c){return r.initialStatus=c}),e.qZA(),e.TgZ(23,"label",17),e._uU(24,"Public "),e.TgZ(25,"span",18),e._uU(26,"(Anyone on the internet can see your order)"),e.qZA()()(),e.TgZ(27,"div",14)(28,"input",19,16),e.NdJ("ngModelChange",function(c){return r.initialStatus=c}),e.qZA(),e.TgZ(30,"label",20),e._uU(31,"Private "),e.TgZ(32,"span",18),e._uU(33,"(Only staff can see your order)"),e.qZA()()(),e.YNc(34,M,3,0,"ng-container",7),e.qZA(),e.TgZ(35,"div",8)(36,"label",21),e._uU(37,"Description:"),e.qZA(),e._UZ(38,"textarea",22,23),e.qZA(),e.YNc(40,I,3,2,"ng-container",7),e.TgZ(41,"button",24),e._uU(42,"Submit"),e.qZA()()()}if(2&n){const i=e.MAs(2),d=e.MAs(9),c=e.MAs(15),a=e.MAs(22),g=e.MAs(39);e.xp6(8),e.ekj("input-error",d.touched&&d.invalid),e.xp6(2),e.Q6J("ngIf",d.touched),e.xp6(4),e.ekj("input-error",c.touched&&c.invalid),e.xp6(2),e.Q6J("ngIf",c.touched),e.xp6(5),e.Q6J("ngModel",r.initialStatus)("value","public"),e.xp6(7),e.Q6J("ngModel",r.initialStatus)("value","private"),e.xp6(6),e.Q6J("ngIf",a.touched&&a.invalid),e.xp6(4),e.ekj("input-error",g.touched&&g.invalid),e.xp6(2),e.Q6J("ngIf",g.touched),e.xp6(1),e.Q6J("disabled",i.invalid)}},directives:[s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,s.Q7,s.wO,m.O5,s._,s.c5,s.nD],styles:[".error[_ngcontent-%COMP%]{color:red}.input-error[_ngcontent-%COMP%]{border-color:red}"]}),t})();var w=p(5338);let N=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-comment-list-item"]],inputs:{comment:"comment"},decls:8,vars:2,consts:[[1,"card","mx-auto","my-4","w-75"],[1,"row","g-0"],[1,"col-md"],[1,"card-body"],[1,"card-title","mb-3","pb-2","border-bottom"],[1,"card-text"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.qZA(),e.TgZ(6,"p",5),e._uU(7),e.qZA()()()()()),2&n&&(e.xp6(5),e.Oqu(r.comment.userId.username),e.xp6(2),e.Oqu(r.comment.text))},styles:[""]}),t})();function J(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-comment-list-item",2),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("comment",n)}}function U(t,o){if(1&t&&(e.ynx(0),e.YNc(1,J,2,1,"div",1),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.comments)}}let Q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-comment-list"]],inputs:{comments:"comments"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"comment"]],template:function(n,r){1&n&&e.YNc(0,U,2,1,"ng-container",0),2&n&&e.Q6J("ngIf",r.comments)},directives:[m.O5,m.sg,N],styles:[""]}),t})(),_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-spiner"]],decls:1,vars:0,consts:[[1,"spinner-border","text-warning","spinner"]],template:function(n,r){1&n&&e._UZ(0,"div",0)},styles:[".spinner[_ngcontent-%COMP%]{display:block;margin:20px auto auto}"]}),t})();function S(t,o){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" Mesurment Date: ",e.xi3(2,1,n.order.mesurmentDate,"dd / MM / yy"),"")}}const Y=function(t){return["/orders",t,"edit"]};function L(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",16),e._uU(2,"Edit"),e.qZA(),e.TgZ(3,"button",17),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).delete()}),e._uU(4,"Delete"),e.qZA(),e.BQk()}if(2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("routerLink",e.VKq(1,Y,n.order._id))}}function D(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(3);return i.isProviding=!i.isProviding}),e._uU(2,"Set Appointment"),e.qZA(),e.BQk()}}function F(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",19,20),e.NdJ("ngSubmit",function(){e.CHM(n);const i=e.MAs(1);return e.oxw(3).provide(i)}),e.TgZ(2,"div",21)(3,"label",22),e._uU(4,"Mesurment Day"),e.qZA(),e._UZ(5,"input",23,24),e.qZA(),e.TgZ(7,"button",25),e._uU(8,"Submit"),e.qZA()()}}function k(t,o){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,L,5,3,"ng-container",1),e.YNc(2,D,3,0,"ng-container",1),e.YNc(3,F,9,0,"form",15),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.isOwner),e.xp6(1),e.Q6J("ngIf",!n.isOwner&&n.isProvider&&!n.isProviding),e.xp6(1),e.Q6J("ngIf",n.isProviding)}}function E(t,o){1&t&&(e.TgZ(0,"h2",26),e._uU(1,"Comment section"),e.qZA())}function P(t,o){if(1&t&&e._UZ(0,"app-comment-list",27),2&t){const n=e.oxw(2);e.Q6J("comments",n.order.comments)}}function j(t,o){1&t&&(e.TgZ(0,"h2",26),e._uU(1,"Be the first to post a comment"),e.qZA())}function B(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"section",28)(1,"form",19,29),e.NdJ("ngSubmit",function(){e.CHM(n);const i=e.MAs(2);return e.oxw(2).comment(i)}),e.TgZ(3,"label",30),e._uU(4,"Comments:"),e.qZA(),e._UZ(5,"textarea",31,32),e.TgZ(7,"button",33),e._uU(8,"Submit"),e.qZA()()()}if(2&t){const n=e.MAs(2);e.xp6(7),e.Q6J("disabled",n.invalid)}}function $(t,o){if(1&t&&(e.TgZ(0,"div",2)(1,"section",3)(2,"div",4),e._UZ(3,"img",5),e.TgZ(4,"div",6)(5,"h2",7),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.YNc(9,S,3,4,"p",1),e.TgZ(10,"p",8),e._uU(11),e.qZA(),e.YNc(12,k,4,3,"div",9),e.qZA()()(),e.TgZ(13,"section",10),e.YNc(14,E,2,0,"h2",11),e.YNc(15,P,1,1,"app-comment-list",12),e.YNc(16,j,2,0,"h2",11),e.qZA(),e.YNc(17,B,9,1,"section",13),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("src",n.order.imageUrl?n.order.imageUrl:"/assets/sketching1.png",e.LSH),e.xp6(3),e.Oqu(n.order.orderName),e.xp6(2),e.hij(" Location: ",n.order.address,""),e.xp6(1),e.Q6J("ngIf",n.order.mesurmentDate&&(n.isOwner||n.isProvider)),e.xp6(2),e.hij(" Description: ",n.order.description," "),e.xp6(1),e.Q6J("ngIf",n.isLogged),e.xp6(2),e.Q6J("ngIf",0!=n.order.comments.length),e.xp6(1),e.Q6J("ngIf",0!=n.order.comments.length),e.xp6(1),e.Q6J("ngIf",0==n.order.comments.length),e.xp6(1),e.Q6J("ngIf",n.isLogged)}}function H(t,o){1&t&&e._UZ(0,"app-spiner")}let X=(()=>{class t{constructor(n,r,i,d,c){this.orderService=n,this.activatedRoute=r,this.userService=i,this.commentService=d,this.router=c,this.isProviding=!1}get user(){return this.userService.user}get isLogged(){return this.userService.isLogged}get isOwner(){return!!this.user&&this.user._id==this.order.userId._id}get isProvider(){var n;return!!this.user&&"provider"===(null===(n=this.user)||void 0===n?void 0:n.status)}ngOnInit(){this.orderService.getOrder$(this.activatedRoute.snapshot.params.orderId).subscribe(r=>{this.order=r})}comment(n){n.invalid||(this.commentService.createComment$({commentText:n.value.comment},this.order._id).subscribe(i=>{i.userId=this.user,this.order.comments.push(i)}),n.reset())}delete(){this.orderService.deleteOrder$(this.order._id).subscribe(()=>{var n,r;(null===(n=this.user)||void 0===n?void 0:n.orders)&&(this.user.orders=null===(r=this.user)||void 0===r?void 0:r.orders.filter(i=>i._id!=this.order._id)),this.router.navigate(["/"])})}provide(n){const r=new Date(n.value.mesurmentDate);this.orderService.provide$({mesurmentDate:r},this.order._id).subscribe(()=>{this.order.mesurmentDate=r,this.isProviding=!1})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.p),e.Y36(l.gz),e.Y36(v.K),e.Y36(w.O),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-order-details"]],decls:2,vars:2,consts:[["class","container text-center text-lg-start",4,"ngIf"],[4,"ngIf"],[1,"container","text-center","text-lg-start"],[1,"main","mt-5","border","rounded-3"],[1,"d-lg-flex","align-items-center","justify-content-evenly"],["alt","",1,"p-5",3,"src"],[1,""],[1,"py-1","border-bottom","w-100"],[1,"my-4"],["class","actions text-center",4,"ngIf"],[1,"comment","container","my-5","border","rounded-3","mb-0"],["class","text-center mt-3",4,"ngIf"],[3,"comments",4,"ngIf"],["class","comment container my-5 border rounded-3 mt-0",4,"ngIf"],[1,"actions","text-center"],["class","m-4",3,"ngSubmit",4,"ngIf"],[1,"btn","btn-warning","me-4",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"m-4",3,"ngSubmit"],["provideForm","ngForm"],[1,"mb-3","mt-3"],["for","mdate",1,"form-label"],["ngModel","","type","date","id","mdate","placeholder","Enter Mesurment Date","name","mesurmentDate",1,"form-control"],["mesurmentDate","ngModel"],[1,"btn","btn-primary","mt-3"],[1,"text-center","mt-3"],[3,"comments"],[1,"comment","container","my-5","border","rounded-3","mt-0"],["commentForm","ngForm"],["for","comment"],["ngModel","","rows","5","id","comment","name","comment","required","",1,"form-control"],["commentInput","ngModel"],[1,"btn","btn-primary","mt-3",3,"disabled"]],template:function(n,r){1&n&&(e.YNc(0,$,18,10,"div",0),e.YNc(1,H,1,0,"app-spiner",1)),2&n&&(e.Q6J("ngIf",r.order),e.xp6(1),e.Q6J("ngIf",!r.order))},directives:[m.O5,l.rH,s._Y,s.JL,s.F,s.Fj,s.JJ,s.On,Q,s.Q7,_],pipes:[m.uU],styles:[""]}),t})();function z(t,o){if(1&t&&(e.TgZ(0,"p",27),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.errorMessage," ")}}function G(t,o){1&t&&(e.TgZ(0,"p",27),e._uU(1," Order's Name is required! "),e.qZA())}function R(t,o){1&t&&(e.TgZ(0,"p",27),e._uU(1," Order's Name is not valid! "),e.qZA())}function K(t,o){if(1&t&&(e.ynx(0),e.YNc(1,G,2,0,"p",3),e.YNc(2,R,2,0,"p",3),e.BQk()),2&t){e.oxw();const n=e.MAs(10);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.minlength)}}function V(t,o){1&t&&(e.TgZ(0,"p",27),e._uU(1," Location is required! "),e.qZA())}function W(t,o){if(1&t&&(e.ynx(0),e.YNc(1,V,2,0,"p",3),e.BQk()),2&t){e.oxw();const n=e.MAs(16);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function ee(t,o){1&t&&(e.ynx(0),e.TgZ(1,"p",27),e._uU(2," Invalid status is required! "),e.qZA(),e.BQk())}function te(t,o){1&t&&(e.TgZ(0,"p",27),e._uU(1," Description is required! "),e.qZA())}function ne(t,o){1&t&&(e.TgZ(0,"p",27),e._uU(1," Description must be at least 10 characters long "),e.qZA())}function re(t,o){if(1&t&&(e.ynx(0),e.YNc(1,te,2,0,"p",3),e.YNc(2,ne,2,0,"p",3),e.BQk()),2&t){e.oxw();const n=e.MAs(16),r=e.MAs(40);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.errors?null:r.errors.minlength)}}function oe(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",2),e.YNc(1,z,2,1,"p",3),e.TgZ(2,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(n);const i=e.MAs(3);return e.oxw().submit(i)}),e.TgZ(4,"h2"),e._uU(5,"Edit your Order"),e.qZA(),e.TgZ(6,"div",6)(7,"label",7),e._uU(8,"Order Name:"),e.qZA(),e._UZ(9,"input",8,9),e.qZA(),e.YNc(11,K,3,2,"ng-container",1),e.TgZ(12,"div",10)(13,"label",11),e._uU(14,"Order location:"),e.qZA(),e._UZ(15,"input",12,13),e.qZA(),e.YNc(17,W,2,1,"ng-container",1),e.TgZ(18,"label",14),e._uU(19,"Order status:"),e.qZA(),e.TgZ(20,"div",15)(21,"div",16)(22,"input",17,18),e.NdJ("ngModelChange",function(i){return e.CHM(n),e.oxw().initialStatus=i}),e.qZA(),e.TgZ(24,"label",19),e._uU(25,"Public "),e.TgZ(26,"span",20),e._uU(27,"(Anyone on the internet can see your order)"),e.qZA()()(),e.TgZ(28,"div",16)(29,"input",21,18),e.NdJ("ngModelChange",function(i){return e.CHM(n),e.oxw().initialStatus=i}),e.qZA(),e.TgZ(31,"label",22),e._uU(32,"Private "),e.TgZ(33,"span",20),e._uU(34,"(Only staff can see your order)"),e.qZA()()(),e.YNc(35,ee,3,0,"ng-container",1),e.qZA(),e.TgZ(36,"div",10)(37,"label",23),e._uU(38,"Description:"),e.qZA(),e._UZ(39,"textarea",24,25),e.qZA(),e.YNc(41,re,3,2,"ng-container",1),e.TgZ(42,"button",26),e._uU(43,"Submit"),e.qZA()()()}if(2&t){const n=e.MAs(3),r=e.MAs(10),i=e.MAs(16),d=e.MAs(23),c=e.MAs(40),a=e.oxw();e.xp6(1),e.Q6J("ngIf",a.errorMessage),e.xp6(8),e.ekj("input-error",r.touched&&r.invalid),e.Q6J("ngModel",a.order.orderName),e.xp6(2),e.Q6J("ngIf",r.touched),e.xp6(4),e.ekj("input-error",i.touched&&i.invalid),e.Q6J("ngModel",a.order.address),e.xp6(2),e.Q6J("ngIf",i.touched),e.xp6(5),e.Q6J("ngModel",a.initialStatus)("value","public"),e.xp6(7),e.Q6J("ngModel",a.initialStatus)("value","private"),e.xp6(6),e.Q6J("ngIf",d.touched&&d.invalid),e.xp6(4),e.ekj("input-error",c.touched&&c.invalid),e.Q6J("ngModel",a.order.description),e.xp6(2),e.Q6J("ngIf",c.touched),e.xp6(1),e.Q6J("disabled",n.invalid)}}function ie(t,o){1&t&&e._UZ(0,"app-spiner")}let se=(()=>{class t{constructor(n,r,i){var d;this.orderService=n,this.activatedRoute=r,this.router=i,this.errorMessage=void 0,this.initialStatus=null===(d=this.order)||void 0===d?void 0:d.visibility}ngOnInit(){this.orderService.getOrder$(this.activatedRoute.snapshot.params.orderId).subscribe(r=>{setTimeout(()=>{this.order=r,this.initialStatus=r.visibility})})}submit(n){this.orderService.editOrder$(n.value,this.order._id).subscribe({next:r=>{this.router.navigate([`/orders/${this.order._id}`])},error:r=>{this.errorMessage=r.error.message}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.p),e.Y36(l.gz),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-order-edit"]],decls:2,vars:2,consts:[["class","container w-50 p-5 my-5 border rounded-3",4,"ngIf"],[4,"ngIf"],[1,"container","w-50","p-5","my-5","border","rounded-3"],["class","error",4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],[1,"mb-3","mt-3"],["for","orderName",1,"form-label"],["type","text","id","orderName","placeholder","Enter your order's name","name","orderName","required","","minlength","4",1,"form-control",3,"ngModel"],["nameInput","ngModel"],[1,"mb-3"],["for","location",1,"form-label"],["type","text","id","location","placeholder","Enter location","name","address","required","","minlength","5",1,"form-control",3,"ngModel"],["locationInput","ngModel"],[1,"form-label"],[1,"container","border","rounded-3","mb-3"],[1,"form-check","py-1"],["ngModel","","type","radio","id","radio1","name","visibility","pattern","public|private",1,"form-check-input",3,"ngModel","value","ngModelChange"],["statusInput","ngModel"],["for","radio1",1,"form-check-label"],[1,"small","text-muted"],["ngModel","","type","radio","id","radio2","name","visibility","pattern","public|private",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","radio2",1,"form-check-label"],["for","description",1,"form-label"],["rows","5","id","description","name","description","placeholder","I want a kitchen whit white cabinets","required","","maxlength","300","minlength","10",1,"form-control",3,"ngModel"],["descriptionInput","ngModel"],["type","submit",1,"btn","btn-primary","my-2",3,"disabled"],[1,"error"]],template:function(n,r){1&n&&(e.YNc(0,oe,44,19,"div",0),e.YNc(1,ie,1,0,"app-spiner",1)),2&n&&(e.Q6J("ngIf",r.order),e.xp6(1),e.Q6J("ngIf",!r.order))},directives:[m.O5,s._Y,s.JL,s.F,s.Fj,s.Q7,s.wO,s.JJ,s.On,s._,s.c5,s.nD,_],styles:[".error[_ngcontent-%COMP%]{color:red}.input-error[_ngcontent-%COMP%]{border-color:red}"]}),t})(),de=(()=>{class t{transform(n,r){if(n){const i=Math.floor((Number(new Date)-Number(new Date(n)))/1e3);if(i<59)return"Just now";const d={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let c;for(const a in d)if(c=Math.floor(i/d[a]),c>0)return 1===c?c+" "+a+" ago":c+" "+a+"s ago"}return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"timeDiff",type:t,pure:!0}),t})();const ce=function(t){return["/orders",t]};let ae=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-order-list-item"]],inputs:{order:"order"},decls:18,vars:11,consts:[[1,"card","mx-auto","my-4","w-75",3,"routerLink"],[1,"row","g-0"],[1,"col-md-4"],["alt","Order image",1,"img-fluid","rounded-start",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","fs-1","mb-3","pb-2","border-bottom"],[1,"card-text","fs-3"],[1,"text-muted","text-end"],[1,"card-text","text-end","fs-6"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"p",6),e._uU(7),e.qZA(),e.TgZ(8,"p",7)(9,"small",8),e._uU(10),e.qZA()(),e.TgZ(11,"p",7),e._uU(12),e.qZA(),e.TgZ(13,"p",7),e._uU(14),e.qZA(),e.TgZ(15,"p",9),e._uU(16),e.ALo(17,"timeDiff"),e.qZA()()()()()),2&n&&(e.Q6J("routerLink",e.VKq(9,ce,r.order._id)),e.xp6(3),e.Q6J("src",r.order.imageUrl?r.order.imageUrl:"/assets/sketching1.png",e.LSH),e.xp6(4),e.Oqu(r.order.orderName),e.xp6(3),e.hij("from: ",r.order.userId.username,""),e.xp6(2),e.hij("Location: ",r.order.address,""),e.xp6(2),e.Oqu(r.order.description),e.xp6(2),e.hij("Posted: ",e.lcZ(17,7,r.order.created_at),""))},directives:[l.rH],pipes:[de],styles:[".card[_ngcontent-%COMP%]:hover{transition:box-shadow .3s;box-shadow:10px 10px 5px gray;cursor:pointer}img[_ngcontent-%COMP%]{width:400px;height:300px;object-fit:contain}"]}),t})();function me(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-order-list-item",3),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("order",n)}}function pe(t,o){if(1&t&&(e.ynx(0),e.YNc(1,me,2,1,"div",2),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.orderList)}}function le(t,o){1&t&&e._UZ(0,"app-spiner")}function ue(t,o){1&t&&(e.TgZ(0,"h3",4),e._uU(1,"Be the first to post a order"),e.qZA())}const ge=l.Bz.forChild([{path:"",pathMatch:"full",component:(()=>{class t{constructor(n){this.orderService=n}ngOnInit(){this.orderService.getOrders$().subscribe(n=>{this.orderList=n})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-order-list"]],decls:3,vars:3,consts:[[4,"ngIf"],["class","text-center mt-5",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"order"],[1,"text-center","mt-5"]],template:function(n,r){1&n&&(e.YNc(0,pe,2,1,"ng-container",0),e.YNc(1,le,1,0,"app-spiner",0),e.YNc(2,ue,2,0,"h3",1)),2&n&&(e.Q6J("ngIf",r.orderList&&r.orderList.length>0),e.xp6(1),e.Q6J("ngIf",!r.orderList),e.xp6(1),e.Q6J("ngIf",r.orderList&&r.orderList.length<=0))},directives:[m.O5,m.sg,ae,_],styles:[".spinner[_ngcontent-%COMP%]{display:block;margin:20px auto auto}"]}),t})()},{path:"new",canActivate:[x.j],component:q},{path:":orderId",component:X},{path:":orderId/edit",canActivate:[h],component:se}]);let fe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez]]}),t})(),ve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez]]}),t})(),xe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,ge,s.u5,fe,ve]]}),t})()}}]);